<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <title>
    Rootlex Blog
    
</title>
<noscript>开启Javascript是必要的</noscript>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta aria-description="">
<meta aria-keyshortcuts="">
<link href="/css/var.css" rel="stylesheet">
<link href="/fonts/remixicon.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
<link href="/css/content.css" rel="stylesheet">

    <link href="/css/hightlight/theme.css" rel="stylesheet">



    <script>
        const GobalCofig = {
            codelimit: '300'
        }
    </script>
    <style>
        :root{
            --code-limit: 300px
        }
    </style>

<link href="https://cdn1.tianli0.top/npm/artalk@2.4.4/dist/Artalk.css" rel="stylesheet">
<script type="text/javascript" src="https://cdn1.tianli0.top/npm/artalk@2.4.4/dist/Artalk.js"></script>

    <meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Rootlex Blog" type="application/atom+xml">
</head>
    <body>
        <main class="layouts_warp">
            <div class="layouts_content">
                <div class="sidebar_main w-1-3" id="sidebar">
    <div class="site_name">
        <img src="/img/site.png" alt="网页标题">
    </div>
    <ul class="menu" id="menu">
        
            
            <li class="menu_list">
                <a href="/" class="menu_item">
                    <i class="ri-home-6-line"></i>
                    <span class="menu_item_span">
                        主页
                    </span>
                </a>
            </li>
        
            
            <li class="menu_list">
                <a href="/says/" class="menu_item">
                    <i class="ri-message-3-line"></i>
                    <span class="menu_item_span">
                        闲言碎语
                    </span>
                </a>
            </li>
        
            
            <li class="menu_list">
                <a href="/bgm/" class="menu_item">
                    <i class="ri-movie-2-line"></i>
                    <span class="menu_item_span">
                        追番
                    </span>
                </a>
            </li>
        
            
            <li class="menu_list">
                <a href="/friends/" class="menu_item">
                    <i class="ri-links-line"></i>
                    <span class="menu_item_span">
                        朋友们
                    </span>
                </a>
            </li>
        
            
            <li class="menu_list">
                <a href="/fc/" class="menu_item">
                    <i class="ri-heart-line"></i>
                    <span class="menu_item_span">
                        朋友圈
                    </span>
                </a>
            </li>
        
    </ul>
<!--    <hr>-->
    <hr>

    <div class="tab_warp">
      <input type="radio" name="side-tab" class="tab-radio-tj" id="card-selector-tj" checked>
      <input type="radio" name="side-tab" class="tab-radio-toc" id="card-selector-toc">
      <div class="tab_selector">
        <label for="card-selector-tj" class="tab-handler-tj">统计</label>
        <label for="card-selector-toc" class="tab-handler-toc">目录</label>
      </div>
      <div class="tab_content">
        <div class="tab_content-tj">
            <div class="statistics_item">
              <span class="statistics_span">
                文章
              </span>
              <span class="statistics_num">
                8 篇
              </span>
            </div>
            <div class="statistics_item">
              <span class="statistics_span">
                分类
              </span>
              <span class="statistics_num">
                3
              </span>
            </div>
            <div class="statistics_item">
              <span class="statistics_span">
                字数
              </span>
              <span class="statistics_num">
                7.9k
              </span>
            </div>
            <div class="statistics_item">
              <span class="statistics_span">
                运行
              </span>
              <span class="statistics_num">
                358 天
              </span>
            </div>
          </div>
        <div class="tab_content-toc">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B"><span class="toc-text">技术选型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%B8%A9%E7%9A%84%E2%80%9C%E5%9D%91%E2%80%9D"><span class="toc-text">开发过程中踩的“坑”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E"><span class="toc-text">写在最后</span></a></li></ol>
        </div>
      </div>
    </div>


    <div class="connect">
        
            
            <a target="_blank" rel="noopener" href="https://space.bilibili.com/494271806" style="color: #00b1ff" aria-label="bilibili">
                <i class="ri-bilibili-fill"></i>
            </a>
        
            
            <a target="_blank" rel="noopener" href="https://github.com/rootlexblog" style="color: black" aria-label="github">
                <i class="ri-github-fill"></i>
            </a>
        
            
            <a target="_blank" rel="noopener" href="https://music.163.com/#/user/home?id=3416536539" style="color: #ff3030" aria-label="网易云">
                <i class="ri-netease-cloud-music-fill"></i>
            </a>
        
            
            <a href="mailto:a@nalex.top" style="color: #ffc952" aria-label="邮箱">
                <i class="ri-mail-send-line"></i>
            </a>
        
    </div>
    <div class="copyright">
        <i class="ri-copyright-line"></i>
        <span>2023</span>
        <a href="/">Rootlex</a>
    </div>
</div>

                <div class="layouts_page_content w-2-3">
                    <div class="nav hide" id="nav">
    <div class="nav_item">
      <a href="/" aria-label="主页" class="home">
        <i class="ri-home-6-line"></i>
      </a>
      <a class="rand_page" aria-label="随机页面">
        <i class="ri-shuffle-line"></i>
      </a>
      <div class="mobile_nav_item">
        
          
          <a class="menu_item" href="/" aria-label="主页">
            <i class="ri-home-6-line"></i>
          </a>
        
          
          <a class="menu_item" href="/says/" aria-label="闲言碎语">
            <i class="ri-message-3-line"></i>
          </a>
        
          
          <a class="menu_item" href="/bgm/" aria-label="追番">
            <i class="ri-movie-2-line"></i>
          </a>
        
          
          <a class="menu_item" href="/friends/" aria-label="朋友们">
            <i class="ri-links-line"></i>
          </a>
        
          
          <a class="menu_item" href="/fc/" aria-label="朋友圈">
            <i class="ri-heart-line"></i>
          </a>
        
      </div>
    </div>
    <div class="nav_item">
      <a href="/atom.xml" aria-label="rss" target="_blank">
        <i class="ri-rss-fill"></i>
      </a>
      <a target="_blank" rel="noopener" href="https://www.travellings.cn/go.html" aria-label="开往">
        <i class="ri-subway-fill"></i>
      </a>
    </div>
</div>

                    <div class="content_top">
    <div class="top_img">
        <img src="/img/topimg.webp" alt="顶部头图" class="top_img_a">
        <div class="me">
            <span>Rootlex</span>
            <img src="/img/avatar.webp" alt="头像" class="avatar">
        </div>
    </div>
    <div class="top_bar">
        <div class="cate_list" id="cate">
            <a class="cate_item" href="/">主页</a>
            <div class="cate_list_item">
                
                    <a class="cate_item" href="/categories/教程/">教程</a>
                
                    <a class="cate_item" href="/categories/折腾/">折腾</a>
                
                    <a class="cate_item" href="/categories/笔记/">笔记</a>
                
            </div>
        </div>
        <div class="bar_dec">
            <span>寒蝉黎明之时，便是重生之日</span>
        </div>
    </div>
</div>


                    <div class="index_content">
                        <div class="index_content_list_item">
    <div class="content_author">
    <img src="/img/avatar.webp" alt="头像">
    <div class="content_author_item">
      <span class="name">Rootlex</span>
      <div class="date" >2023-01-24</div>
    </div>
</div>

    <div class="post_info">
        新的界面，新的开始
    </div>
    <div class="content_g">
        <html><head></head><body><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直想写一个新的博客，但是一直没有啥好点子，最近看到<a target="_blank" rel="noopener" href="https://pixit.cn/">Pix</a>主题，觉得有很多地方可以借鉴一下，于是便诞生这个新的博客。</p>
<h2 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h2><p>最近刚学完Typescript和Nuxt3就决定要用到它们来写。</p>
<ol>
<li>一开始想的是前后端分离，于是就想到之前买的<a target="_blank" rel="noopener" href="https://inis.cc/">inis</a>，但是我太菜不会用Docker部署PHP+ThinkPHP环境，我又不想用宝塔，于是就忽略掉这个选项</li>
<li>然后就是Strapi，Strapi是一个非常不错的框架，但是我在部署时遇到些问题，于是也放弃这个选项</li>
<li>之后有用一些CMS系统，都不太让我满意</li>
</ol>
<p>偶然一次我在Nuxt modules中看到 <a target="_blank" rel="noopener" href="https://content.nuxtjs.org/">Nuxt Content</a> 这个系统觉得挺不错的，而且还不用服务器，于是就用它了</p>
<p><strong>最终所用到的技术和库</strong></p>
<p>技术: Vue.js + Nuxt + Nuxt Content + Vite + Typescript</p>
<p>库: Feed + Nuxt/sitemap</p>
<p>评论系统: <a target="_blank" rel="noopener" href="https://artalk.js.org/">Artalk</a></p>
<h2 id="开发过程中踩的“坑”"><a href="#开发过程中踩的“坑”" class="headerlink" title="开发过程中踩的“坑”"></a>开发过程中踩的“坑”</h2><h3 id="Nuxt-SSR-不支持一些客户端的方法"><a href="#Nuxt-SSR-不支持一些客户端的方法" class="headerlink" title="Nuxt SSR 不支持一些客户端的方法"></a>Nuxt SSR 不支持一些客户端的方法</h3><p>Nuxt SSR 不支持一些客户端的方法，如: Window, document，所以导航栏的fixed效果就不能在服务端渲染，解决方案有两种</p>
<ol>
<li>在 <code>nuxt.config.ts</code> 添加外部JS将导航栏fixed逻辑代码写进JS中</li>
<li>使用Nuxt官方的API方法 <code>&lt;client-only&gt;</code> 让代码在客户端中运行</li>
</ol>
<h3 id="Artalk评论接入存在问题"><a href="#Artalk评论接入存在问题" class="headerlink" title="Artalk评论接入存在问题"></a>Artalk评论接入存在问题</h3><p><img src="https://bu.dusays.com/2023/01/23/63ce68079d404.webp" alt="Artalk接入问题"></p>
<p>我暂时不知道是什么导致的，所以使用了个替代方案如下</p>
<p><strong>我的解决方法:</strong> 增加点击加载评论方法，让页面完全加载完成后在进行评论初始化</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p><a href="https://blog.nalex.top/atom.xml">atom订阅</a><br><a href="https://blog.nalex.top/sitemap.xml">sitemap</a></p>
<p>目前博客部署在Vercel, CDN用的是<a target="_blank" rel="noopener" href="https://my.farcdn.net/">Farcdn</a></p>
</body></html>
    </div>
    <div class="comments_top">
    <i class="ri-chat-3-line"></i>
    <div class="comment_title">评论</div>
</div>
<div id="Comments"></div>
<script>
    function Comments(){
        new Artalk({
            el:        '#Comments',
            pageKey:   'https://blog.nalex.top/posts/7a70876f/',
            pageTitle: '新的界面，新的开始',
            server:    'https://artalk.yj.al/',
            site:      'Rootlex 的博客',
        })
    }
    Comments()
    document.addEventListener("pjax:complete", () => {
        Comments()
    })
</script>

</div>

                    </div>
                </div>
            </div>
        </main>
        <script type="text/javascript" src="/js/main.js"></script>

    <script type="text/javascript" src="/js/lib/pjax.min.js"></script>
    <script>
        const pjax = new Pjax({
            elements: 'a:not([target="_blank"])',
            selectors: [
                '.index_content',
                // '.atk-layer-wrap',
                '.tab_warp',
                '.js-pjax'
            ],
            cacheBust: false,
            scrollRestoration: false,
            analytics: false,
        })
        document.addEventListener("pjax:complete", () => {
            whenDOMReady()
        })
    </script>
    <div class="js-pjax">
        <script>
            
                toc.init()
            
        </script>
    </div>


    </body>
</html>
