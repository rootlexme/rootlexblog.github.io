<!DOCTYPE html><html lang="zh-CN"><head><title>新的界面，新的开始</title><noscript>开启Javascript是必要的</noscript><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="ai: 这篇文章介绍了作者开发新博客时的技术选型、开发过程中踩到的“坑”，以及最终所用到的技术和库。作者选择使用Vue.js + Nuxt + Nuxt Content + Vite + Typescript等技术，以及Feed和Nuxt/sitemap等库，并接入了Artalk评论系统。在开发过程中遇到了NUXT SSR不支持一些客户端方法和Artalk评论接入问题，解决方案有两种。最后，作者将博客部署在Vercel上，CDN则采用Farcdn。"><meta aria-keyshortcuts="Rootlex, blog, 技术, 博客"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link href="https://cdn.staticfile.org/remixicon/3.5.0/remixicon.min.css" rel="stylesheet"><link href="/css/var.css" rel="stylesheet"><link href="/css/main.css" rel="stylesheet"><link href="/css/content.css" rel="stylesheet"><script src="/js/lib/pace.min.js"></script><link href="/css/hightlight/theme.css" rel="stylesheet"><script>var GLOBALCONFIG={root:"/",lazyload:{enable:!0,error:"https://bu.dusays.com/2023/09/01/64f15cd6dd086.webp"},codelimit:300,lightbox:!0}</script><script id="site-config">var PAGECONFIG={is_home:!1,is_post:!0,is_page:!1,page:!1,comments:!0}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Rootlex Blog" type="application/atom+xml"></head><body><main class="layouts_warp"><div class="layouts_content"><div class="sidebar_main w-1-3" id="sidebar"><div class="site_name"><img src="/img/site.png" alt="网页标题" class="nolazyload"></div><ul class="menu" id="menu"><li class="menu_list"><a href="/" class="menu_item"><i class="ri-home-6-line"></i> <span class="menu_item_span">主页</span></a></li><li class="menu_list"><a href="/posts/" class="menu_item"><i class="ri-article-line"></i> <span class="menu_item_span">文章</span></a></li><li class="menu_list"><a href="/bgm/" class="menu_item"><i class="ri-movie-2-line"></i> <span class="menu_item_span">追番</span></a></li><li class="menu_list"><a href="/link/" class="menu_item"><i class="ri-links-line"></i> <span class="menu_item_span">朋友们</span></a></li><li class="menu_list"><a href="/me/" class="menu_item"><i class="ri-heart-line"></i> <span class="menu_item_span">关于我</span></a></li></ul><hr><div class="tab_warp"><input type="radio" name="side-tab" class="tab-radio-tj" id="card-selector-tj" checked> <input type="radio" name="side-tab" class="tab-radio-toc" id="card-selector-toc"><div class="tab_selector"><label for="card-selector-tj" class="tab-handler-tj">统计</label> <label for="card-selector-toc" class="tab-handler-toc">目录</label></div><div class="tab_content"><div class="tab_content-tj"><div class="statistics_item"><span class="statistics_span">文章</span> <span class="statistics_num">9 篇</span></div><div class="statistics_item"><span class="statistics_span">分类</span> <span class="statistics_num">3</span></div><div class="statistics_item"><span class="statistics_span">字数</span> <span class="statistics_num">7.8k</span></div><div class="statistics_item"><span class="statistics_span">运行</span> <span class="statistics_num">556 天</span></div></div><div class="tab_content-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B"><span class="toc-text">技术选型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%AD%E8%B8%A9%E7%9A%84%E2%80%9C%E5%9D%91%E2%80%9D"><span class="toc-text">开发过程中踩的“坑”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E"><span class="toc-text">写在最后</span></a></li></ol></div></div></div><div class="connect"><a target="_blank" rel="noopener" href="https://space.bilibili.com/494271806" style="color:#00b1ff" aria-label="bilibili"><i class="ri-bilibili-fill"></i></a><a target="_blank" rel="noopener" href="https://github.com/rootlexblog" style="color:#000" aria-label="github"><i class="ri-github-fill"></i></a><a target="_blank" rel="noopener" href="https://music.163.com/#/user/home?id=3416536539" style="color:#ff3030" aria-label="网易云"><i class="ri-netease-cloud-music-fill"></i></a><a href="mailto:a@nalex.top" style="color:#ffc952" aria-label="邮箱"><i class="ri-mail-send-line"></i></a></div><div class="sidebar_footer"><div class="link"><a href="/privacy">隐私协议</a> <a href="/cc">版权声明</a></div><div class="link"><i class="ri-copyright-line"></i> <span>2023</span> <a href="/">Rootlex</a></div></div></div><div class="layouts_page_content w-2-3"><div class="nav hide" id="nav"><div class="nav_item"><a onclick="jumpBack()" aria-label="主页" class="home"><i class="ri-arrow-go-back-line"></i></a><a class="rand_page" aria-label="随机页面" onclick="toRandomPost()"><i class="ri-shuffle-line"></i></a><div class="mobile_nav_item"><a class="menu_item" href="/" aria-label="主页"><i class="ri-home-6-line"></i></a><a class="menu_item" href="/posts/" aria-label="文章"><i class="ri-article-line"></i></a><a class="menu_item" href="/bgm/" aria-label="追番"><i class="ri-movie-2-line"></i></a><a class="menu_item" href="/link/" aria-label="朋友们"><i class="ri-links-line"></i></a><a class="menu_item" href="/me/" aria-label="关于我"><i class="ri-heart-line"></i></a></div></div><div class="nav_item"><a href="/atom.xml" aria-label="rss" target="_blank"><i class="ri-rss-fill"></i></a><a target="_blank" rel="noopener" href="https://www.travellings.cn/go.html" aria-label="开往"><i class="ri-subway-fill"></i></a></div></div><div class="content_top"><div class="top_img"><img src="https://bu.dusays.com/2023/08/30/64eecce284ccc.webp" alt="顶部头图" class="top_img_bg nolazyload"><div class="me"><span>Rootlex</span> <img src="https://bu.dusays.com/2023/01/25/63d130a6ce9ea.jpg" alt="头像" class="avatar nolazyload"></div></div><div class="top_bar"><div class="cate_list" id="cate"><a class="cate_item" href="/">主页</a><div class="cate_list_item"><a class="cate_item" href="/categories/教程/">教程</a> <a class="cate_item" href="/categories/折腾/">折腾</a> <a class="cate_item" href="/categories/笔记/">笔记</a></div></div><div class="bar_dec"><span>寒蝉黎明之时，便是重生之日</span></div></div></div><div class="index_content"><div class="index_content_list_item"><div class="post_info">新的界面，新的开始</div><div class="post_excert"><div class="post_excert_top"><i class="ri-ai-generate"></i> <span>AI摘要</span></div><div class="post_excert_bottom">ai: 这篇文章介绍了作者开发新博客时的技术选型、开发过程中踩到的“坑”，以及最终所用到的技术和库。作者选择使用Vue.js + Nuxt + Nuxt Content + Vite + Typescript等技术，以及Feed和Nuxt/sitemap等库，并接入了Artalk评论系统。在开发过程中遇到了NUXT SSR不支持一些客户端方法和Artalk评论接入问题，解决方案有两种。最后，作者将博客部署在Vercel上，CDN则采用Farcdn。</div></div><div class="content_g"><html><head></head><body><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直想写一个新的博客，但是一直没有啥好点子，最近看到<a target="_blank" rel="noopener" href="https://pixit.cn/">Pix</a>主题，觉得有很多地方可以借鉴一下，于是便诞生这个新的博客。</p><h2 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h2><p>最近刚学完Typescript和Nuxt3就决定要用到它们来写。</p><ol><li>一开始想的是前后端分离，于是就想到之前买的<a target="_blank" rel="noopener" href="https://inis.cc/">inis</a>，但是我太菜不会用Docker部署PHP+ThinkPHP环境，我又不想用宝塔，于是就忽略掉这个选项</li><li>然后就是Strapi，Strapi是一个非常不错的框架，但是我在部署时遇到些问题，于是也放弃这个选项</li><li>之后有用一些CMS系统，都不太让我满意</li></ol><p>偶然一次我在Nuxt modules中看到 <a target="_blank" rel="noopener" href="https://content.nuxtjs.org/">Nuxt Content</a> 这个系统觉得挺不错的，而且还不用服务器，于是就用它了</p><p><strong>最终所用到的技术和库</strong></p><p>技术: Vue.js + Nuxt + Nuxt Content + Vite + Typescript</p><p>库: Feed + Nuxt/sitemap</p><p>评论系统: <a target="_blank" rel="noopener" href="https://artalk.js.org/">Artalk</a></p><h2 id="开发过程中踩的“坑”"><a href="#开发过程中踩的“坑”" class="headerlink" title="开发过程中踩的“坑”"></a>开发过程中踩的“坑”</h2><h3 id="Nuxt-SSR-不支持一些客户端的方法"><a href="#Nuxt-SSR-不支持一些客户端的方法" class="headerlink" title="Nuxt SSR 不支持一些客户端的方法"></a>Nuxt SSR 不支持一些客户端的方法</h3><p>Nuxt SSR 不支持一些客户端的方法，如: Window, document，所以导航栏的fixed效果就不能在服务端渲染，解决方案有两种</p><ol><li>在 <code>nuxt.config.ts</code> 添加外部JS将导航栏fixed逻辑代码写进JS中</li><li>使用Nuxt官方的API方法 <code>&lt;client-only&gt;</code> 让代码在客户端中运行</li></ol><h3 id="Artalk评论接入存在问题"><a href="#Artalk评论接入存在问题" class="headerlink" title="Artalk评论接入存在问题"></a>Artalk评论接入存在问题</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://bu.dusays.com/2023/01/23/63ce68079d404.webp" alt="Artalk接入问题"></p><p>我暂时不知道是什么导致的，所以使用了个替代方案如下</p><p><strong>我的解决方法:</strong> 增加点击加载评论方法，让页面完全加载完成后在进行评论初始化</p><h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p><a href="https://blog.nalex.top/atom.xml">atom订阅</a><br><a href="https://blog.nalex.top/sitemap.xml">sitemap</a></p><p>目前博客部署在Vercel, CDN用的是<a target="_blank" rel="noopener" href="https://my.farcdn.net/">Farcdn</a></p></body></html></div><div class="comments_wrap"><div class="comments_top"><i class="ri-message-3-line"></i><div class="comment_title">评论</div></div><div id="comments"></div></div></div></div></div></div></main><div><link rel="stylesheet" href="https://npm.onmicrosoft.cn/@waline/client@2.15.7/dist/waline.css"><script src="https://npm.onmicrosoft.cn/@waline/client@2.15.7/dist/waline.js"></script><script>function Comments(){Waline.init({el:"#comments",serverURL:"https://comment.nalex.top",lang:"zh-CN",imageUploader:!1,search:!1,emoji:["https://jsd.onmicrosoft.cn/npm/sticker-heo@2022.7.5/Sticker-100/","https://jsd.onmicrosoft.cn/gh/Small-tailqwq/2stabApe-emoji-for-waline@1.1.1/%E5%8C%BF%E5%90%8D%E6%9D%BF/"]})}</script><script src="/js/lib/pjax.min.js"></script><script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.min.js"></script><script src="/js/lib/view-image.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-y/aplayer/1.10.1/APlayer.min.js"></script><link href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-y/aplayer/1.10.1/APlayer.min.css" rel="stylesheet"><script src="https://cdn1.tianli0.top/npm/meting@2.0.1/dist/Meting.min.js"></script><script src="/js/main.js"></script><script>const pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:['meta[name="description"]',"title","#site-config",".index_content",".tab_warp"],cacheBust:!1,scrollRestoration:!1,analytics:!1});document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/")}))</script><script>const posts=["posts/b19848b6/","posts/a61e63c2/","posts/c323bf04/","posts/6177b8b5/","posts/ec7d7221/","posts/7a70876f/","posts/8f292cc0/","posts/80cfaa0f/","posts/30e05efc/"];function toRandomPost(){pjax.loadUrl("/"+posts[Math.floor(Math.random()*posts.length)])}</script></div></body></html>